{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState } from \"react\";\nconst useAuth = () => {\n  _s();\n  const [token, setToken] = useState(null);\n  const login = async (username, password) => {\n    // Remplacez cette URL par l'URL de votre API d'authentification\n    const response = await fetch(\"http://localhost:8080/login\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        username,\n        password\n      })\n    });\n    if (response.ok) {\n      const data = await response.json();\n      setToken(data.token);\n    } else {\n      throw new Error(\"Échec de l'authentification\");\n    }\n  };\n  return {\n    token,\n    setToken,\n    login\n  };\n};\n_s(useAuth, \"e+LEOB8XbRIRiSUQHKM4ToWFki4=\");\nexport default useAuth;","map":{"version":3,"names":["useState","useAuth","_s","token","setToken","login","username","password","response","fetch","method","headers","body","JSON","stringify","ok","data","json","Error"],"sources":["C:/MAMP/htdocs/EFP/Exo-LPW/lesson-efp/lessons-efp/LPW/06_user-account/frontend/src/utils/auth.js"],"sourcesContent":["import { useState } from \"react\";\r\n\r\nconst useAuth = () => {\r\n  const [token, setToken] = useState(null);\r\n\r\n  const login = async (username, password) => {\r\n    // Remplacez cette URL par l'URL de votre API d'authentification\r\n    const response = await fetch(\"http://localhost:8080/login\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({ username, password }),\r\n    });\r\n\r\n    if (response.ok) {\r\n      const data = await response.json();\r\n      setToken(data.token);\r\n    } else {\r\n      throw new Error(\"Échec de l'authentification\");\r\n    }\r\n  };\r\n\r\n  return {\r\n    token,\r\n    setToken,\r\n    login,\r\n  };\r\n};\r\n\r\nexport default useAuth;\r\n"],"mappings":";AAAA,SAASA,QAAQ,QAAQ,OAAO;AAEhC,MAAMC,OAAO,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACpB,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGJ,QAAQ,CAAC,IAAI,CAAC;EAExC,MAAMK,KAAK,GAAG,MAAAA,CAAOC,QAAQ,EAAEC,QAAQ,KAAK;IAC1C;IACA,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,6BAA6B,EAAE;MAC1DC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QAAE,cAAc,EAAE;MAAmB,CAAC;MAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QAAER,QAAQ;QAAEC;MAAS,CAAC;IAC7C,CAAC,CAAC;IAEF,IAAIC,QAAQ,CAACO,EAAE,EAAE;MACf,MAAMC,IAAI,GAAG,MAAMR,QAAQ,CAACS,IAAI,EAAE;MAClCb,QAAQ,CAACY,IAAI,CAACb,KAAK,CAAC;IACtB,CAAC,MAAM;MACL,MAAM,IAAIe,KAAK,CAAC,6BAA6B,CAAC;IAChD;EACF,CAAC;EAED,OAAO;IACLf,KAAK;IACLC,QAAQ;IACRC;EACF,CAAC;AACH,CAAC;AAACH,EAAA,CAxBID,OAAO;AA0Bb,eAAeA,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}